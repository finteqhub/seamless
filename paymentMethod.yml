kind: finteqhub/v1/paymentMethod
id: bank-transfer # аналогично как и с интеграциями не нужон тут uuid, достаточно enum
title: Bank transfer
type: banktransfer
logo: https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgwp1dAaa6BkjK-OXbxG8Rovpmxiq5qwnl899xRYJ0i1zqzlb3hagBCfmZQkEbgBIsN5c&usqp=CAU
txTypes:
  deposit:
    flags:
      - createsCustomerAccount # это нужно для документации
credentials: # есть ли сценарий, когда структура полей кредов отличается для выплат и депозитов?
  fields:
    bankId:
      ref: $commonParameters.bankId
    merchantCustomerId:
      ref: $commonParameters.merchantCustomerId
    email:
      ref: $commonParameters.email
    IBAN:
      ref: $commonParameters.iban
  forms: # == formViews
   - id: noda.deposit
     fields:
      - id: merchantCustomerId
        flags: [required, storedInCustomerAccount]
        validations: # Я бы здесь покурил в сторону какого DSL для описания валидаций, например: https://json-schema.org/draft/2020-12/json-schema-validation
          - minLen: 4
          - maxLen: 36
      - id: email
        flags: [required]
   - id: noda.deposit.de
     fields:
       - id: merchantCustomerId
         flags: [required]
         validations: # Я бы здесь покурил в сторону какого DSL для описания валидаций, например: https://json-schema.org/draft/2020-12/json-schema-validation
           - minLen: 4
           - maxLen: 36
       - id: email
         flags: [required, storedInCustomerAccount]
       - id: IBAN
         flags: [required, storedInCustomerAccount]
